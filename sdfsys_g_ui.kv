#: import NoTransition kivy.uix.screenmanager.NoTransition
#: import rgba sdfsys_gamma.rgba
#: import bttn sdfsys_gamma.Bttn
#: import sys sdfsys_gamma.SysUi

    
<Button>:
    size_hint: bttn.x, bttn.y
    font_size: self.height*0.5
    color: rgba['h']
    background_color: rgba['h']

<TextInput>:
    font_name: 'RobotoMono-Regular'
    font_size: root.height*0.045
    background_color: [0,0,0,0]

ScreenManagement:
    transition: NoTransition()
    MainScreen:
    OtherScreen:
    
<MainScreen>:
#     canvas.before:
#         Color:
#             rgba: 1, 1, 1, 1
#         Rectangle:
#             pos: self.pos
#             size: self.size
    name: 'main_screen'
    # # # # # # # # # # 
    # # # # # # # # # #  
    # Top Row Buttons 
    Button:
        text: 'sys'
        pos_hint: {'x':0, 'top':1}
        on_release: app.root.current = 'other_screen'
    # # # #
    # txt
    Button:
        id: bttn_txt_0
        text: 'txt'
        pos_hint: {'x':bttn.hide, 'top':1}
        on_release:
            # hide self, show other bttn 
            self.pos_hint = {'x':bttn.hide}
            bttn_txt_1.pos_hint = {'x':bttn.txt_x_hint, 'top':1}
            # show other txt stuff
            textbox.pos_hint = {'x':bttn.x, 'top':1-bttn.y}
            textbox.focus = 1
            bttn_prs.pos_hint = {'x':0, 'top':bttn.prs_y_hint}
            bttn_get_i.pos_hint = {'x':bttn.get_i_x_hint, 'top':bttn.get_i_y_hint}
    Button:
        id: bttn_txt_1
        text: 'txt'
        pos_hint: {'x':bttn.txt_x_hint, 'top':1}
        color: sys.txt_rgba
        on_release: 
            # hide self, show other bttn 
            self.pos_hint = {'x':bttn.hide}
            bttn_txt_0.pos_hint = {'x':bttn.txt_x_hint, 'top':1}
            # hide other txt stuff
            textbox.pos_hint = {'x':bttn.hide, 'top':bttn.hide}
            bttn_prs.pos_hint = {'x':0, 'top':bttn.hide}
            bttn_get_i.pos_hint = {'x':bttn.hide, 'top':bttn.hide}
    # # # # #
    # spaces
    Button:
        id: bttn_spaces_1
        font_name: 'RobotoMono-Regular'
        text: bttn.spc_bttn_text_opt[1]
        pos_hint: {'x':bttn.spaces_x_hint, 'top':1}
        color: rgba['f']
        on_release:
            # hide self, show other bttn
            self.pos_hint = {'x':bttn.hide}
            bttn_spaces_0.pos_hint = {'x':bttn.spaces_x_hint, 'top':1}
            # hide other txt stuff
            bttn_spc_opt.pos_hint = bttn.spc_n_pos_hint['hide']
            bttn_spc_0.pos_hint = bttn.spc_n_pos_hint['hide']
            bttn_spc_1.pos_hint = bttn.spc_n_pos_hint['hide']
            bttn_spc_2.pos_hint = bttn.spc_n_pos_hint['hide']
            bttn_spc_3.pos_hint = bttn.spc_n_pos_hint['hide']
            bttn_spc_4.pos_hint = bttn.spc_n_pos_hint['hide']
            bttn_spc_5.pos_hint = bttn.spc_n_pos_hint['hide']
            bttn_spc_6.pos_hint = bttn.spc_n_pos_hint['hide']
            bttn_spc_7.pos_hint = bttn.spc_n_pos_hint['hide']
    Button:
        id: bttn_spaces_0
        font_name: 'RobotoMono-Regular'
        text: bttn.spc_bttn_text_opt[1]
        pos_hint: {'x':bttn.hide, 'top':1}
        color: rgba['h']
        on_release:
            # hide self, show other bttn
            self.pos_hint = {'x':bttn.hide}
            bttn_spaces_1.pos_hint = {'x':bttn.spaces_x_hint, 'top':1}
            # show other txt stuff
            bttn_spc_opt.pos_hint = bttn.spc_n_pos_hint['opt']
            bttn_spc_0.pos_hint = bttn.spc_n_pos_hint[0]
            bttn_spc_1.pos_hint = bttn.spc_n_pos_hint[1]
            bttn_spc_2.pos_hint = bttn.spc_n_pos_hint[2]
            bttn_spc_3.pos_hint = bttn.spc_n_pos_hint[3]
            bttn_spc_4.pos_hint = bttn.spc_n_pos_hint[4]
            bttn_spc_5.pos_hint = bttn.spc_n_pos_hint[5]
            bttn_spc_6.pos_hint = bttn.spc_n_pos_hint[6]
            bttn_spc_7.pos_hint = bttn.spc_n_pos_hint[7]
    # # #
    # i
    Button:
        id: bttn_i_0
        text: 'i'
        pos_hint: {'x':bttn.hide, 'top':1}
        on_release:
            # hide self, show other bttn 
            self.pos_hint = {'x':bttn.hide}
            bttn_i_1.pos_hint = {'x':bttn.i_x_hint, 'top':1}
            # show other stuff
            infobox.pos_hint = sys.infobox_pos_hint
    Button:
        id: bttn_i_1
        text: 'i'
        color: sys.i_rgba
        pos_hint: {'x':bttn.i_x_hint, 'top':1}
        on_release: 
            # hide self, show other bttn 
            self.pos_hint = {'x':bttn.hide}
            bttn_i_0.pos_hint = {'x':bttn.i_x_hint, 'top':1}
            # hide other stuff
            infobox.pos_hint = {'x':bttn.hide}

    # # # # # # # # # # #
    # # # # # # # # # # #
    TextInput:
        id: textbox
        pos_hint: {'x':bttn.x, 'top':1-bttn.y}
        size_hint: sys.textbox_size_x, sys.textbox_size_y 
        foreground_color: sys.txt_rgba
        auto_indent: True
    TextInput:
        id: infobox
        text: '/! sdfsys_gamma'
        pos_hint: sys.infobox_pos_hint
        size_hint: sys.infobox_size_x, sys.infobox_size_y
        disabled: True
        disabled_foreground_color: sys.i_rgba

    # # # # # # # # # # # 
    # # # # # # # # # # # 
    # # Left Side Buttons
    Button:
        id: bttn_prs
        text: 'parse'
        pos_hint: {'x':0, 'top':bttn.prs_y_hint}
        color: sys.txt_rgba
        on_release:
            root.txt.process_text(textbox.text)
            infobox.text = root.txt.i_txt_str
    Button:
        id: bttn_get_i
        text: '| i |'
        size_hint_x: bttn.x/2
        pos_hint: {'x':bttn.get_i_x_hint, 'top':bttn.get_i_y_hint}
        color: sys.txt_rgba
        on_release: 
            #textbox.text = infobox.text
            textbox.insert_text(chr(10), from_undo=False)
            textbox.insert_text(infobox.text, from_undo=False)
    # # # # # # # # # # #
    # # Spaces Buttons
    Button:
        id: bttn_spc_opt
        font_name: 'RobotoMono-Regular'
        text: bttn.spc_bttn_text_opt[root.space_opt_value]
        size_hint_x: bttn.x/2
        pos_hint: bttn.spc_n_pos_hint['opt']
        color: rgba['f']
        on_release:
            root.space_opt_value = (-1*root.space_opt_value)+1
            self.text = bttn.spc_bttn_text_opt[root.space_opt_value]
    Button:
        id: bttn_spc_0
        font_name: 'RobotoMono-Regular'
        text: bttn.spc_bttn_text_state[1]
        size_hint_x: bttn.x/2
        pos_hint: bttn.spc_n_pos_hint[0]
        color: rgba[0]
        on_release:
            infobox.text = 'space 0'
            self.text = root.space_button_release(0)
    Button:
        id: bttn_spc_1
        font_name: 'RobotoMono-Regular'
        text: bttn.spc_bttn_text_state[1]
        size_hint_x: bttn.x/2
        pos_hint: bttn.spc_n_pos_hint[1]
        color: rgba[1]
        on_release:
            infobox.text = 'space 1'
            self.text = root.space_button_release(1)
    Button:
        id: bttn_spc_2
        font_name: 'RobotoMono-Regular'
        text: bttn.spc_bttn_text_state[1]
        size_hint_x: bttn.x/2
        pos_hint: bttn.spc_n_pos_hint[2]
        color: rgba[2]
        on_release:
            infobox.text = 'space 2'
            self.text = root.space_button_release(2)
    Button:
        id: bttn_spc_3
        font_name: 'RobotoMono-Regular'
        text: bttn.spc_bttn_text_state[0]
        size_hint_x: bttn.x/2
        pos_hint: bttn.spc_n_pos_hint[3]
        color: rgba[3]
        on_release:
            infobox.text = 'space 3 not in use'
    Button:
        id: bttn_spc_4
        font_name: 'RobotoMono-Regular'
        text: bttn.spc_bttn_text_state[1]
        size_hint_x: bttn.x/2
        pos_hint: bttn.spc_n_pos_hint[4]
        color: rgba[4]
        on_release:
            infobox.text = 'space 4'
            self.text = root.space_button_release(4)
    Button:
        id: bttn_spc_5
        font_name: 'RobotoMono-Regular'
        text: bttn.spc_bttn_text_state[0]
        size_hint_x: bttn.x/2
        pos_hint: bttn.spc_n_pos_hint[5]
        color: rgba[5]
        on_release:
            infobox.text = 'space 5 not in use'
    Button:
        id: bttn_spc_6
        font_name: 'RobotoMono-Regular'
        text: bttn.spc_bttn_text_state[0]
        size_hint_x: bttn.x/2
        pos_hint: bttn.spc_n_pos_hint[6]
        color: rgba[6]
        on_release:
            infobox.text = 'space 6 not in use'
    Button:
        id: bttn_spc_7
        font_name: 'RobotoMono-Regular'
        text: bttn.spc_bttn_text_state[0]
        size_hint_x: bttn.x/2
        pos_hint: bttn.spc_n_pos_hint[7]
        color: rgba[7]
        on_release:
            infobox.text = 'space 7 not in use'


<OtherScreen>:
    name: 'other_screen'
    Button:
        text: 'sys'
        color: rgba['f']
        pos_hint: {'x':0, 'top':1}
        on_release: app.root.current = 'main_screen'

